(()=>{"use strict";var e,t={928:(e,t,a)=>{const r=window.React,i=window.wp.plugins,n=window.wp.editPost,o=window.wp.components,l=window.wp.element,s=window.wp.i18n,c=window.wp.apiFetch;var d=a.n(c);const m=window.wp.data,p=window.wp.blockEditor,u=window.wp.notices,h=window.wp.blocks,g=(0,l.createElement)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("defs",null,(0,l.createElement)("linearGradient",{id:"atm-grad",x1:"0",y1:"0",x2:"24",y2:"24",gradientUnits:"userSpaceOnUse"},(0,l.createElement)("stop",{stopColor:"#8E2DE2"}),(0,l.createElement)("stop",{offset:1,stopColor:"#4A00E0"}))),(0,l.createElement)("rect",{x:2,y:13,width:20,height:9,rx:2,fill:"url(#atm-grad)",opacity:.6}),(0,l.createElement)("path",{d:"M6 16H18 M6 18H15",stroke:"white",strokeWidth:1.2,strokeLinecap:"round"}),(0,l.createElement)("rect",{x:2,y:8,width:20,height:9,rx:2,fill:"url(#atm-grad)",opacity:.8}),(0,l.createElement)("path",{d:"M6 12.5H8L10 11L12 14L14 11L16 12.5H18",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("rect",{x:2,y:3,width:20,height:9,rx:2,fill:"url(#atm-grad)"}),(0,l.createElement)("circle",{cx:8,cy:7,r:1,fill:"white"}),(0,l.createElement)("path",{d:"M6 10L9 8L13 9.5L18 7",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}));(0,i.registerPlugin)("content-ai-studio-sidebar",{icon:g,render:()=>{const[e,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(""),[c,g]=(0,l.useState)(!1),[w,E]=(0,l.useState)(!1),{insertBlocks:f}=(0,m.useDispatch)(p.store),{createSuccessNotice:b,createErrorNotice:_}=(0,m.useDispatch)(u.store),k=(0,m.useSelect)(e=>e("core/editor").getCurrentPostId(),[]);return(0,l.createElement)(r.Fragment,null,(0,l.createElement)(n.PluginSidebarMoreMenuItem,{target:"atm-sidebar"},(0,s.__)("Content AI Studio","article-to-media")),(0,l.createElement)(n.PluginSidebar,{name:"atm-sidebar",title:(0,s.__)("Content AI Studio","article-to-media")},(0,l.createElement)(o.PanelBody,{title:(0,s.__)("Generate Featured Image","article-to-media"),initialOpen:!0},(0,l.createElement)("p",{className:"atm-sidebar-desc"},"Generate and set the post's main featured image. You can use shortcodes like ",(0,l.createElement)("code",null,"[article_title]"),"."),(0,l.createElement)(o.TextareaControl,{label:(0,s.__)("Image Prompt","article-to-media"),value:a,onChange:e=>i(e),disabled:w,placeholder:"A photorealistic image of..."}),(0,l.createElement)(o.Button,{isPrimary:!0,isBusy:w,onClick:()=>{a?(E(!0),d()({path:"/atm/v1/generate-featured-image",method:"POST",data:{prompt:a,post_id:k}}).then(()=>{b("Featured image generated and set successfully! The page will now refresh to show the new image.",{type:"snackbar"}),E(!1),setTimeout(()=>{window.location.reload()},3e3)}).catch(e=>{_(`Error: ${e.message}`,{type:"snackbar"}),E(!1)})):alert("Please enter a prompt for the featured image.")},disabled:w||!a},w?(0,s.__)("Generating...","article-to-media"):(0,s.__)("Generate & Set Image","article-to-media"))),(0,l.createElement)(o.PanelBody,{title:(0,s.__)("Generate Inline Image","article-to-media"),initialOpen:!1},(0,l.createElement)("p",{className:"atm-sidebar-desc"},"Generate an image and insert it directly into your content."),(0,l.createElement)(o.TextareaControl,{label:(0,s.__)("Image Prompt","article-to-media"),value:e,onChange:e=>t(e),disabled:c}),(0,l.createElement)(o.Button,{isPrimary:!0,isBusy:c,onClick:()=>{e?(g(!0),d()({path:"/atm/v1/generate-inline-image",method:"POST",data:{prompt:e,post_id:k}}).then(e=>{const a=(0,h.createBlock)("core/image",{url:e.url,alt:e.alt});f(a),t(""),g(!1),b("Inline image generated and inserted!",{type:"snackbar"})}).catch(e=>{_(`Error: ${e.message}`,{type:"snackbar"}),g(!1)})):alert("Please enter a prompt for the inline image.")},disabled:c||!e},c?(0,s.__)("Generating...","article-to-media"):(0,s.__)("Generate & Insert Image","article-to-media")))))}})}},a={};function r(e){var i=a[e];if(void 0!==i)return i.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,a,i,n)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,i,n]=e[d],l=!0,s=0;s<a.length;s++)(!1&n||o>=n)&&Object.keys(r.O).every(e=>r.O[e](a[s]))?a.splice(s--,1):(l=!1,n<o&&(o=n));if(l){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,i,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var i,n,[o,l,s]=a,c=0;if(o.some(t=>0!==e[t])){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(s)var d=s(r)}for(t&&t(a);c<o.length;c++)n=o[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},a=globalThis.webpackChunkarticle_to_media=globalThis.webpackChunkarticle_to_media||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=r.O(void 0,[350],()=>r(928));i=r.O(i)})();