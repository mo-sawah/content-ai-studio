(()=>{"use strict";var e={20:(e,t,a)=>{var n=a(609),l=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,a){var n,s={},c=null,m=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(m=t.ref),t)o.call(t,n)&&!r.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:l,type:e,key:c,ref:m,props:s,_owner:i.current}}},609:e=>{e.exports=window.React},848:(e,t,a)=>{e.exports=a(20)}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}var n=a(609);const l=window.wp.element,o=window.wp.components,i=function({setActiveView:e}){const t=[{id:"articles",title:"General Articles",description:"Create automated article generation campaigns with custom prompts and settings",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"24",height:"24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),gradient:"from-blue-500 to-purple-600",onClick:()=>e("articles")},{id:"news",title:"Automated News",description:"Generate articles automatically from latest news sources and RSS feeds",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"24",height:"24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h14l2 2v12a2 2 0 01-2 2zM3 4h16M7 8h10M7 12h6"})),gradient:"from-emerald-500 to-green-600",onClick:()=>e("news")},{id:"videos",title:"Auto Videos",description:"Find and embed YouTube videos automatically with generated descriptions",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"24",height:"24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),gradient:"from-red-500 to-pink-600",onClick:()=>e("videos")},{id:"podcasts",title:"Auto Podcast",description:"Create articles with automated podcast audio generation",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"24",height:"24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})),gradient:"from-orange-500 to-red-600",onClick:()=>e("podcasts")}];return(0,n.createElement)("div",{className:"atm-hub-welcome"},(0,n.createElement)("div",{className:"atm-welcome-header"},(0,n.createElement)("div",{className:"atm-welcome-icon"},(0,n.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("defs",null,(0,n.createElement)("linearGradient",{id:"atm-automation-grad",x1:"0",y1:"0",x2:"24",y2:"24",gradientUnits:"userSpaceOnUse"},(0,n.createElement)("stop",{stopColor:"#8E2DE2"}),(0,n.createElement)("stop",{offset:"1",stopColor:"#4A00E0"}))),(0,n.createElement)("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z",fill:"url(#atm-automation-grad)"}),(0,n.createElement)("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z",fill:"url(#atm-automation-grad)",opacity:"0.3"}))),(0,n.createElement)("h2",null,"Welcome to AI Automation"),(0,n.createElement)("p",null,"Set up automated content generation campaigns to keep your site updated with fresh content. Choose from our automation types below to create scheduled campaigns that run automatically.")),(0,n.createElement)("div",{className:"atm-quick-actions"},t.map(e=>(0,n.createElement)("div",{key:e.id,className:"atm-quick-action-card",onClick:e.onClick},(0,n.createElement)("div",{className:`atm-action-icon bg-gradient-to-r ${e.gradient}`},e.icon),(0,n.createElement)("h3",null,e.title),(0,n.createElement)("p",null,e.description)))),(0,n.createElement)("div",{className:"atm-welcome-stats"},(0,n.createElement)("div",{className:"atm-stat-item"},(0,n.createElement)("div",{className:"atm-stat-number"},"4"),(0,n.createElement)("div",{className:"atm-stat-label"},"Automation Types")),(0,n.createElement)("div",{className:"atm-stat-item"},(0,n.createElement)("div",{className:"atm-stat-number"},"10min"),(0,n.createElement)("div",{className:"atm-stat-label"},"Minimum Frequency")),(0,n.createElement)("div",{className:"atm-stat-item"},(0,n.createElement)("div",{className:"atm-stat-number"},"24/7"),(0,n.createElement)("div",{className:"atm-stat-label"},"Automated"))),(0,n.createElement)("div",{className:"atm-welcome-footer"},(0,n.createElement)("p",null,"New to automation? Start with"," ",(0,n.createElement)(o.Button,{variant:"link",onClick:()=>e("articles")},"General Articles")," ","to create your first automated content campaign."),(0,n.createElement)("p",{style:{marginTop:"8px",fontSize:"14px",color:"#64748b"}},"Want to manage existing campaigns?"," ",(0,n.createElement)(o.Button,{variant:"link",onClick:()=>e("campaigns")},"Go to Campaign Manager"))))},r=window.wp.primitives;var s=a(848);const c=(0,s.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)(r.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),m=function({label:e,text:t,options:a,onChange:i,disabled:r,helpText:s}){const m=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:m},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:c,text:t,controls:a.map(e=>({title:e.label,onClick:()=>i(e)})),disabled:r,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":m.current?.offsetWidth?`${m.current.offsetWidth}px`:"auto"}}}),s&&(0,n.createElement)("p",{className:"atm-dropdown-help"},s))},d=({selectedCategories:e,onCategoriesChange:t,categories:a})=>{const[i,r]=(0,l.useState)(!1);return(0,n.createElement)("div",{className:"atm-category-multiselect"},(0,n.createElement)(o.BaseControl,{label:"Category",help:"Select one or more categories for your content"},(0,n.createElement)("div",{className:"atm-category-selector-wrapper"},(0,n.createElement)("button",{type:"button",className:"atm-category-dropdown-trigger",onClick:()=>r(!i),style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",background:"#fff",textAlign:"left",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"40px"}},(0,n.createElement)("span",null,0===e.length?"Select Categories":`${e.length} categories selected`),(0,n.createElement)("span",{style:{transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}},"▼")),i&&(0,n.createElement)("div",{className:"atm-category-selector"},a.map(a=>(0,n.createElement)("div",{key:a.id,className:"atm-category-item"},(0,n.createElement)("input",{type:"checkbox",id:`category-${a.id}`,checked:e.includes(a.id),onChange:()=>(a=>{const n=e.includes(a)?e.filter(e=>e!==a):[...e,a];t(n)})(a.id)}),(0,n.createElement)("label",{htmlFor:`category-${a.id}`},a.name))))),e.length>0&&(0,n.createElement)("div",{className:"atm-selected-categories"},a.filter(t=>e.includes(t.id)).map(a=>(0,n.createElement)("span",{key:a.id,className:"atm-category-tag"},a.name,(0,n.createElement)("span",{className:"remove",onClick:()=>(a=>{const n=e.filter(e=>e!==a);t(n)})(a.id)},"×"))))))},u=function({setActiveView:e,editingCampaign:t}){const[a,i]=(0,l.useState)(!1),[r,s]=(0,l.useState)(""),[c,u]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),[h,v]=(0,l.useState)(""),[E,w]=(0,l.useState)("Use Default Model"),[y,f]=(0,l.useState)("default_seo"),[b,_]=(0,l.useState)("Standard / SEO-Optimized"),[C,k]=(0,l.useState)("high"),[N,x]=(0,l.useState)("High Creativity"),[S,A]=(0,l.useState)(""),[M,L]=(0,l.useState)("Default"),[T,j]=(0,l.useState)(""),[B,V]=(0,l.useState)(!1),[H,P]=(0,l.useState)(1),[W,O]=(0,l.useState)("hour"),[R,z]=(0,l.useState)("Hours"),[I,$]=(0,l.useState)("publish"),[D,G]=(0,l.useState)("Auto-publish Immediately"),[U,F]=(0,l.useState)([]),[Q,Y]=(0,l.useState)(1),[q,K]=(0,l.useState)("Current User");(0,l.useEffect)(()=>{if(t){u(t.name),g(t.keyword);const e=t.settings||{};v(e.ai_model||""),f(e.writing_style||"default_seo"),k(e.creativity_level||"high"),A(e.word_count||""),j(e.custom_prompt||""),V(e.generate_image||!1),P(t.schedule_value),O(t.schedule_unit),$(t.content_mode),t.category_ids&&Array.isArray(t.category_ids)?F(t.category_ids):t.category_id&&t.category_id>0?F([t.category_id]):F([]),Y(t.author_id),J(e,t)}else window.atm_automation_data?.authors?.[0]&&(Y(window.atm_automation_data.authors[0].id),K(window.atm_automation_data.authors[0].name))},[t]);const J=(e,t)=>{const a=X().find(t=>t.value===(e.ai_model||""));a&&w(a.label);const n=Z().find(t=>t.value===(e.writing_style||"default_seo"));n&&_(n.label);const l=ee().find(t=>t.value===(e.creativity_level||"high"));l&&x(l.label);const o=te().find(t=>t.value===(e.word_count||""));o&&L(o.label);const i=ae().find(e=>e.value===(t.schedule_unit||"hour"));i&&z(i.label);const r=ne().find(e=>e.value===(t.content_mode||"publish"));r&&G(r.label);const s=le().find(e=>e.value===(t.author_id||1));s&&K(s.label)},X=()=>{const e=window.atm_automation_data?.article_models||{};return[{label:"Use Default Model",value:""},...Object.entries(e).map(([e,t])=>({label:t,value:e}))]},Z=()=>{const e=window.atm_automation_data?.writing_styles||{};return Object.entries(e).map(([e,t])=>({label:t.label||e,value:e}))},ee=()=>[{label:"High Creativity",value:"high"},{label:"Medium Creativity",value:"medium"},{label:"Low Creativity",value:"low"}],te=()=>[{label:"Default",value:""},{label:"Short (~500 words)",value:"500"},{label:"Standard (~800 words)",value:"800"},{label:"Medium (~1200 words)",value:"1200"},{label:"Long (~2000 words)",value:"2000"}],ae=()=>[{label:"Minutes",value:"minute"},{label:"Hours",value:"hour"},{label:"Days",value:"day"},{label:"Weeks",value:"week"}],ne=()=>[{label:"Auto-publish Immediately",value:"publish"},{label:"Save as Drafts",value:"draft"},{label:"Queue for Later",value:"queue"}],le=()=>(window.atm_automation_data?.authors||[]).map(e=>({label:e.name,value:e.id}));return window.atm_automation_data?(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("h4",null,"Campaign Configuration"),(0,n.createElement)("p",{className:"components-base-control__help"},"Configure an automated article generation campaign that will create content based on your keyword and settings."),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.TextControl,{label:"Campaign Name",placeholder:"e.g., Daily Tech Articles",value:c,onChange:u,disabled:a,help:"A descriptive name for this automation campaign"}),(0,n.createElement)(o.TextControl,{label:"Keyword/Topic",placeholder:"e.g., artificial intelligence",value:p,onChange:g,disabled:a,help:"Main topic or keyword for article generation"})),(0,n.createElement)("h4",null,"Content Settings"),(0,n.createElement)("div",{className:"atm-grid-3"},(0,n.createElement)(m,{label:"AI Model",text:E,options:X(),onChange:e=>{v(e.value),w(e.label)},disabled:a}),(0,n.createElement)(m,{label:"Writing Style",text:b,options:Z(),onChange:e=>{f(e.value),_(e.label)},disabled:a}),(0,n.createElement)(m,{label:"Creativity Level",text:N,options:ee(),onChange:e=>{k(e.value),x(e.label)},disabled:a})),(0,n.createElement)(m,{label:"Word Count",text:M,options:te(),onChange:e=>{A(e.value),L(e.label)},disabled:a}),(0,n.createElement)(o.TextareaControl,{label:"Custom Prompt (Optional)",placeholder:"Leave empty to use the selected Writing Style. If you write a prompt here, it will be used instead.",value:T,onChange:j,rows:6,disabled:a}),(0,n.createElement)(o.ToggleControl,{label:"Generate featured images",help:B?"Featured images will be generated for each article":"Articles will be generated without featured images",checked:B,onChange:V,disabled:a}),(0,n.createElement)("h4",null,"Schedule Settings"),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)("div",null,(0,n.createElement)("label",{className:"components-base-control__label"},"Run Every"),(0,n.createElement)("div",{className:"schedule-input-row"},(0,n.createElement)("input",{type:"number",min:"minute"===W?10:1,value:H,onChange:e=>P(parseInt(e.target.value)||1),disabled:a}),(0,n.createElement)("div",null,(0,n.createElement)(m,{text:R,options:ae(),onChange:e=>{O(e.value),z(e.label);const t={minute:10,hour:1,day:1,week:1};H<t[e.value]&&P(t[e.value])},disabled:a}))),(0,n.createElement)("p",{className:"components-base-control__help"},"Minimum:"," ","minute"===W?"10 minutes":`1 ${W}`)),(0,n.createElement)(m,{label:"Content Mode",text:D,options:ne(),onChange:e=>{$(e.value),G(e.label)},disabled:a,helpText:"How to handle generated content"})),(0,n.createElement)("h4",null,"Publishing Settings"),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(d,{selectedCategories:U,onCategoriesChange:F,categories:window.atm_automation_data?.categories||[]}),(0,n.createElement)(m,{label:"Author",text:q,options:le(),onChange:e=>{Y(e.value),K(e.label)},disabled:a})),(0,n.createElement)("div",{className:"atm-form-actions"},(0,n.createElement)(o.Button,{isPrimary:!0,onClick:async()=>{if(!c.trim()||!p.trim())return void s("Campaign name and keyword are required.");if(0===U.length)return void s("Please select at least one category.");const a={minute:10,hour:1,day:1,week:1};if(H<a[W])s(`Minimum value for ${W}s is ${a[W]}.`);else{i(!0),s("Saving campaign...");try{const a={campaign_id:t?.id||0,name:c,type:"articles",keyword:p,settings:{ai_model:h,writing_style:y,creativity_level:C,word_count:S?parseInt(S):0,custom_prompt:T,generate_image:B},schedule_type:"interval",schedule_value:H,schedule_unit:W,content_mode:I,category_ids:U,author_id:Q,is_active:!0},n=await jQuery.ajax({url:window.atm_automation_data?.ajax_url||ajaxurl,type:"POST",data:{action:"atm_save_automation_campaign",nonce:window.atm_automation_data?.nonce,...a}});if(!n.success)throw new Error(n.data);s("Campaign saved successfully!"),setTimeout(()=>{e("campaigns")},1e3)}catch(e){s(`Error: ${e.message}`)}finally{i(!1)}}},disabled:a||!c.trim()||!p.trim()||0===U.length},a?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.Spinner,null),"Saving..."):t?"Update Campaign":"Create Campaign"),t&&(0,n.createElement)(o.Button,{isSecondary:!0,onClick:async()=>{if(t?.id){i(!0),s("Running test execution...");try{const e=await jQuery.ajax({url:window.atm_automation_data?.ajax_url||ajaxurl,type:"POST",data:{action:"atm_run_automation_campaign_now",nonce:window.atm_automation_data?.nonce,campaign_id:t.id}});if(!e.success)throw new Error(e.data);s("Test run completed successfully!"),e.data.post_url&&setTimeout(()=>{window.open(e.data.post_url,"_blank")},1e3)}catch(e){s(`Error: ${e.message}`)}finally{i(!1)}}else s("Please save the campaign first before testing.")},disabled:a},"Test Run Now"),(0,n.createElement)(o.Button,{isSecondary:!0,onClick:()=>e("campaigns"),disabled:a},"Cancel")),r&&(0,n.createElement)("div",{className:"atm-status-message "+(r.includes("successfully")?"success":r.includes("Error")?"error":"info")},r))):(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("div",{className:"atm-status-message error"},"Automation data not loaded. Please refresh the page."))},p=function({setActiveView:e,editingCampaign:t}){const[a,i]=(0,l.useState)(""),[r,s]=(0,l.useState)("");return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("h4",null,"News Automation Campaign"),(0,n.createElement)("p",{className:"components-base-control__help"},"Configure automated news article generation from Google News and RSS feeds."),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.TextControl,{label:"Campaign Name",placeholder:"e.g., Daily Tech News",value:a,onChange:i,help:"A descriptive name for this news automation campaign"}),(0,n.createElement)(o.TextControl,{label:"News Keyword",placeholder:"e.g., technology, politics, business",value:r,onChange:s,help:"Keyword to search for in news sources"})),(0,n.createElement)("div",{className:"atm-under-construction"},(0,n.createElement)("div",{className:"atm-construction-icon"},(0,n.createElement)("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"}))),(0,n.createElement)("h3",null,"News Automation Coming Soon"),(0,n.createElement)("p",null,"This automation type will include:"),(0,n.createElement)("ul",null,(0,n.createElement)("li",null,"Google News integration with language and country filters"),(0,n.createElement)("li",null,"RSS feed monitoring and article generation"),(0,n.createElement)("li",null,"Automated source verification and duplicate detection"),(0,n.createElement)("li",null,"Custom news category targeting"))),(0,n.createElement)("div",{className:"atm-form-actions"},(0,n.createElement)(o.Button,{isTertiary:!0,onClick:()=>e("hub")},"Back to Hub"))))},g=function({setActiveView:e,editingCampaign:t}){const[a,i]=(0,l.useState)(""),[r,s]=(0,l.useState)("");return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("h4",null,"Video Automation Campaign"),(0,n.createElement)("p",{className:"components-base-control__help"},"Configure automated video embedding from YouTube with generated descriptions."),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.TextControl,{label:"Campaign Name",placeholder:"e.g., Weekly Tutorial Videos",value:a,onChange:i,help:"A descriptive name for this video automation campaign"}),(0,n.createElement)(o.TextControl,{label:"Video Search Keyword",placeholder:"e.g., programming tutorials, cooking tips",value:r,onChange:s,help:"Keyword to search for relevant videos on YouTube"})),(0,n.createElement)("div",{className:"atm-under-construction"},(0,n.createElement)("div",{className:"atm-construction-icon"},(0,n.createElement)("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}))),(0,n.createElement)("h3",null,"Video Automation Coming Soon"),(0,n.createElement)("p",null,"This automation type will include:"),(0,n.createElement)("ul",null,(0,n.createElement)("li",null,"YouTube video search with advanced filtering"),(0,n.createElement)("li",null,"Automatic video embedding with responsive design"),(0,n.createElement)("li",null,"AI-generated descriptions and summaries"),(0,n.createElement)("li",null,"Duration and quality preferences"))),(0,n.createElement)("div",{className:"atm-form-actions"},(0,n.createElement)(o.Button,{isTertiary:!0,onClick:()=>e("hub")},"Back to Hub"))))},h=function({setActiveView:e,editingCampaign:t}){const[a,i]=(0,l.useState)(""),[r,s]=(0,l.useState)("");return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("h4",null,"Podcast Automation Campaign"),(0,n.createElement)("p",{className:"components-base-control__help"},"Configure automated article generation with podcast audio creation."),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.TextControl,{label:"Campaign Name",placeholder:"e.g., Daily Business Podcast",value:a,onChange:i,help:"A descriptive name for this podcast automation campaign"}),(0,n.createElement)(o.TextControl,{label:"Podcast Topic",placeholder:"e.g., entrepreneurship, health, technology",value:r,onChange:s,help:"Main topic for article and podcast generation"})),(0,n.createElement)("div",{className:"atm-under-construction"},(0,n.createElement)("div",{className:"atm-construction-icon"},(0,n.createElement)("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"}))),(0,n.createElement)("h3",null,"Podcast Automation Coming Soon"),(0,n.createElement)("p",null,"This automation type will include:"),(0,n.createElement)("ul",null,(0,n.createElement)("li",null,"Automated article generation with podcast-optimized content"),(0,n.createElement)("li",null,"Two-host conversational script generation"),(0,n.createElement)("li",null,"Voice selection and audio generation"),(0,n.createElement)("li",null,"Automatic podcast player embedding"))),(0,n.createElement)("div",{className:"atm-form-actions"},(0,n.createElement)(o.Button,{isTertiary:!0,onClick:()=>e("hub")},"Back to Hub"))))},v=function({setActiveView:e,setEditingCampaign:t}){const[a,i]=(0,l.useState)([]),[r,s]=(0,l.useState)(!0),[c,m]=(0,l.useState)("");(0,l.useEffect)(()=>{d()},[]);const d=async()=>{s(!0);try{const e=await jQuery.ajax({url:atm_automation_data.ajax_url,type:"POST",data:{action:"atm_get_automation_campaigns",nonce:atm_automation_data.nonce}});if(!e.success)throw new Error(e.data);i(e.data.campaigns)}catch(e){m(`Error loading campaigns: ${e.message}`)}finally{s(!1)}},u=e=>{const t={articles:"#6366f1",news:"#059669",videos:"#dc2626",podcasts:"#f97316"};return t[e]||t.articles};return r?(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{style:{textAlign:"center",padding:"40px"}},(0,n.createElement)(o.Spinner,null),(0,n.createElement)("p",null,"Loading campaigns..."))):(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-campaigns-header"},(0,n.createElement)("div",{className:"atm-campaigns-header-content"},(0,n.createElement)("h3",null,"Automation Campaigns"),(0,n.createElement)("p",null,"Manage your automated content generation campaigns")),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("hub")},"Create New Campaign")),c&&(0,n.createElement)("div",{className:"atm-status-message "+(c.includes("successfully")?"success":c.includes("Error")?"error":"info")},c),0===a.length?(0,n.createElement)("div",{className:"atm-empty-state"},(0,n.createElement)("div",{className:"atm-empty-state-icon"},(0,n.createElement)("svg",{width:"64",height:"64",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"}))),(0,n.createElement)("h3",null,"No campaigns yet"),(0,n.createElement)("p",null,"Create your first automation campaign to start generating content automatically."),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("hub")},"Create First Campaign")):(0,n.createElement)("div",{className:"atm-campaigns-grid"},a.map(a=>{return(0,n.createElement)("div",{key:a.id,className:"atm-campaign-card"},(0,n.createElement)("div",{className:"atm-campaign-header"},(0,n.createElement)("div",{className:"atm-campaign-type",style:{color:u(a.type)}},(e=>{const t={articles:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),news:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h14l2 2v12a2 2 0 01-2 2zM3 4h16M7 8h10M7 12h6"})),videos:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),podcasts:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"}))};return t[e]||t.articles})(a.type),(0,n.createElement)("span",null,a.type.charAt(0).toUpperCase()+a.type.slice(1))),(l=1==a.is_active,i=a.last_status,l?"completed"===i?(0,n.createElement)("span",{className:"atm-status-badge active"},"Active"):"failed"===i?(0,n.createElement)("span",{className:"atm-status-badge error"},"Error"):"started"===i?(0,n.createElement)("span",{className:"atm-status-badge running"},"Running"):(0,n.createElement)("span",{className:"atm-status-badge active"},"Active"):(0,n.createElement)("span",{className:"atm-status-badge paused"},"Paused"))),(0,n.createElement)("div",{className:"atm-campaign-content"},(0,n.createElement)("h4",null,a.name),(0,n.createElement)("p",{className:"atm-campaign-keyword"},a.keyword),(0,n.createElement)("div",{className:"atm-campaign-meta"},(0,n.createElement)("div",{className:"atm-campaign-meta-item"},(0,n.createElement)("span",{className:"label"},"Schedule:"),(0,n.createElement)("span",{className:"value"},"Every ",a.schedule_value," ",a.schedule_unit,"(s)")),(0,n.createElement)("div",{className:"atm-campaign-meta-item"},(0,n.createElement)("span",{className:"label"},"Next Run:"),(0,n.createElement)("span",{className:"value"},a.next_run_formatted)),(0,n.createElement)("div",{className:"atm-campaign-meta-item"},(0,n.createElement)("span",{className:"label"},"Executions:"),(0,n.createElement)("span",{className:"value"},a.total_executions||0)),a.last_execution&&(0,n.createElement)("div",{className:"atm-campaign-meta-item"},(0,n.createElement)("span",{className:"label"},"Last Run:"),(0,n.createElement)("span",{className:"value"},a.last_execution_formatted)))),(0,n.createElement)("div",{className:"atm-campaign-actions"},(0,n.createElement)(o.Button,{isSmall:!0,onClick:()=>(a=>{t(a),e(a.type)})(a)},"Edit"),(0,n.createElement)(o.Button,{isSmall:!0,isSecondary:!0,onClick:()=>(async e=>{m("Running campaign...");try{const t=await jQuery.ajax({url:atm_automation_data.ajax_url,type:"POST",data:{action:"atm_run_automation_campaign_now",nonce:atm_automation_data.nonce,campaign_id:e}});if(!t.success)throw new Error(t.data);m("Campaign executed successfully!"),t.data.post_url&&setTimeout(()=>{window.open(t.data.post_url,"_blank")},1e3)}catch(e){m(`Error: ${e.message}`)}})(a.id)},"Run Now"),(0,n.createElement)(o.Button,{isSmall:!0,variant:1==a.is_active?"secondary":"primary",onClick:()=>(async(e,t)=>{try{const a=await jQuery.ajax({url:atm_automation_data.ajax_url,type:"POST",data:{action:"atm_toggle_automation_campaign",nonce:atm_automation_data.nonce,campaign_id:e,is_active:!t}});if(!a.success)throw new Error(a.data);m(a.data.message),d()}catch(e){m(`Error: ${e.message}`)}})(a.id,1==a.is_active)},1==a.is_active?"Pause":"Resume"),(0,n.createElement)(o.Button,{isSmall:!0,isDestructive:!0,onClick:()=>(async(e,t)=>{if(confirm(`Are you sure you want to delete "${t}"? This action cannot be undone.`))try{const t=await jQuery.ajax({url:atm_automation_data.ajax_url,type:"POST",data:{action:"atm_delete_automation_campaign",nonce:atm_automation_data.nonce,campaign_id:e}});if(!t.success)throw new Error(t.data);m("Campaign deleted successfully!"),d()}catch(e){m(`Error: ${e.message}`)}})(a.id,a.name)},"Delete")));var l,i})))},E=document.getElementById("atm-automation-root");E&&(0,l.render)((0,n.createElement)(function(){const[e,t]=(0,l.useState)("hub"),[a,o]=(0,l.useState)(null),r=document.getElementById("atm-automation-root"),s=r?.getAttribute("data-page")||"main";(0,l.useEffect)(()=>{t("campaigns"===s?"campaigns":"hub")},[s]);const c=[{section:"AUTOMATION TYPES",items:[{id:"articles",label:"General Articles",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),color:"#6366f1"},{id:"news",label:"Automated News",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h14l2 2v12a2 2 0 01-2 2zM3 4h16M7 8h10M7 12h6"})),color:"#059669"},{id:"videos",label:"Auto Videos",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),color:"#dc2626"},{id:"podcasts",label:"Auto Podcast",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})),color:"#f97316"}]},{section:"MANAGEMENT",items:[{id:"campaigns",label:"Campaign Manager",icon:(0,n.createElement)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20"},(0,n.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})),color:"#8b5cf6"}]}];return(0,n.createElement)("div",{className:"atm-studio-wrapper"},(0,n.createElement)("div",{className:"atm-sidebar"},(0,n.createElement)("div",{className:"atm-sidebar-header"},(0,n.createElement)("h2",null,"AI Automation"),(0,n.createElement)("p",null,"Content Creation Suite")),c.map((a,l)=>(0,n.createElement)("div",{key:l,className:"atm-nav-section"},(0,n.createElement)("div",{className:"atm-nav-section-title"},a.section),a.items.map(a=>(0,n.createElement)("button",{key:a.id,className:"atm-nav-item "+(e===a.id?"active":""),onClick:()=>{t(a.id),o(null)}},(0,n.createElement)("span",{className:"atm-nav-icon",style:{color:e===a.id?a.color:"rgba(255, 255, 255, 0.6)",transition:"color 0.2s ease"}},a.icon),a.label))))),(0,n.createElement)("div",{className:"atm-main-content"},"hub"!==e&&(0,n.createElement)("div",{className:"atm-content-header"},(0,n.createElement)("div",{className:"atm-content-header-inner"},(0,n.createElement)("button",{className:"atm-header-back-btn",onClick:()=>{t("hub"),o(null)},"aria-label":"Go back to hub"},(0,n.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("div",{className:"atm-content-header-text"},(0,n.createElement)("h1",{className:"atm-content-title"},{hub:"AI Automation",articles:"General Articles Automation",news:"Automated News Generation",videos:"Auto Video Embedding",podcasts:"Automated Podcast Creation",campaigns:"Campaign Manager"}[e]||"AI Automation"),(0,n.createElement)("p",{className:"atm-content-subtitle"},{hub:"Automate your content creation with AI-powered campaigns",articles:"Create automated article generation campaigns with custom prompts and settings",news:"Generate articles automatically from latest news sources and RSS feeds",videos:"Find and embed YouTube videos automatically with generated descriptions",podcasts:"Create articles with automated podcast audio generation",campaigns:"Manage, monitor, and edit your automation campaigns"}[e]||"Automate your content creation")))),(0,n.createElement)("div",{className:"atm-content-body"},(()=>{switch(e){case"hub":default:return(0,n.createElement)(i,{setActiveView:t});case"articles":return(0,n.createElement)(u,{setActiveView:t,editingCampaign:a});case"news":return(0,n.createElement)(p,{setActiveView:t,editingCampaign:a});case"videos":return(0,n.createElement)(g,{setActiveView:t,editingCampaign:a});case"podcasts":return(0,n.createElement)(h,{setActiveView:t,editingCampaign:a});case"campaigns":return(0,n.createElement)(v,{setActiveView:t,setEditingCampaign:o})}})())))},null),E)})();