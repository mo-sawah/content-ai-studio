(()=>{"use strict";var e={20:(e,t,a)=>{var r=a(609),n=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,a){var r,i={},c=null,d=null;for(r in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:i,_owner:o.current}}},609:e=>{e.exports=window.React},848:(e,t,a)=>{e.exports=a(20)}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};a.r(r);var n=a(609);const l=window.wp.element,o=window.wp.components,s=function({setActiveView:e}){return(0,n.createElement)("div",{className:"atm-hub"},(0,n.createElement)("h2",null,"How can I help you today :)"),(0,n.createElement)("p",{className:"atm-hub-subtitle"},"Generate articles, images, podcasts and many more soon"),(0,n.createElement)("div",{className:"atm-hub-actions"},(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("articles")},"Generate Articles"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("images")},"Generate Images"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("podcast")},"Generate Podcast"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("video")},"Video Search"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("speech_to_text")},"Speech to Text"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("translate")},"Translate Text"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>e("graphs")},"Generate Graphs")),(0,n.createElement)("p",{className:"atm-hub-footer"},"Your Day to Day AI helper, Content AI Studio."))},i=window.wp.primitives;var c=a(848);const d=(0,c.jsx)(i.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(i.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),m=window.wp.data,u=(e,t)=>jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:e,nonce:atm_studio_data.nonce,...t}}),p=function(){const[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(""),[s,i]=(0,l.useState)(""),[c,p]=(0,l.useState)(""),[h,g]=(0,l.useState)("default_seo"),[w,b]=(0,l.useState)(""),[v,E]=(0,l.useState)(""),[f,S]=(0,l.useState)("Use Default Model"),[y,_]=(0,l.useState)(""),[k,C]=(0,l.useState)("Default"),[N,x]=(0,l.useState)(""),[T,P]=(0,l.useState)(!1),{savePost:A}=(0,m.useDispatch)("core/editor"),B=(0,m.useSelect)(e=>e("core/editor").isSavingPost()),j=({label:e,text:t,options:a,onChange:r,disabled:s,helpText:i})=>{const c=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:c},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:d,text:t,controls:a.map(e=>({title:e.label,onClick:()=>{r(e)}})),disabled:s,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":c.current?.offsetWidth?c.current.offsetWidth+"px":"auto"}}}),i&&(0,n.createElement)("p",{className:"atm-dropdown-help"},i))},D=[{label:"Use Default Model",value:""},...Object.entries(atm_studio_data.article_models).map(([e,t])=>({label:t,value:e}))],L=Object.entries(atm_studio_data.writing_styles).map(([e,{label:t}])=>({label:t,value:e}));if(!w&&L.length>0){const e=L.find(e=>e.value===h);e&&b(e.label)}return(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.TextControl,{label:"Keyword",value:s,onChange:i,placeholder:"e.g., AI in digital marketing",disabled:e||B}),(0,n.createElement)(o.TextControl,{label:"or Article Title",value:c,onChange:p,placeholder:"e.g., 5 Ways AI is Revolutionizing Marketing",disabled:e||B})),(0,n.createElement)("div",{className:"atm-grid-3"},(0,n.createElement)(j,{label:"Article Model",text:f,options:D,onChange:e=>{E(e.value),S(e.label)},disabled:e||B}),(0,n.createElement)(j,{label:"Writing Style",text:w||(L[0]?L[0].label:"Loading..."),options:L,onChange:e=>{g(e.value),b(e.label)},disabled:e||B}),(0,n.createElement)(j,{label:"Article Length",text:k,options:[{label:"Default",value:""},{label:"Short (~500 words)",value:"500"},{label:"Standard (~800 words)",value:"800"},{label:"Medium (~1200 words)",value:"1200"},{label:"Long (~2000 words)",value:"2000"}],onChange:e=>{_(e.value),C(e.label)},disabled:e||B})),(0,n.createElement)(o.TextareaControl,{label:"Custom Prompt (Optional)",value:N,onChange:x,placeholder:"Leave empty to use the selected Writing Style. If you write a prompt here, it will be used instead.",rows:"6",disabled:e||B}),(0,n.createElement)(o.CheckboxControl,{label:"Also generate a featured image",checked:T,onChange:P,disabled:e||B}),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:async()=>{t(!0);const e=document.getElementById("atm-studio-root").getAttribute("data-post-id");if(!c&&!s)return alert("Please provide a keyword or an article title."),void t(!1);try{let a=c;if(!a&&s){r("Generating compelling title...");const e=await u("generate_article_title",{keyword:s,model:v});if(!e.success)throw new Error(e.data);a=e.data.article_title}r("Writing article content...");const n=await u("generate_article_content",{post_id:e,article_title:a,model:v,writing_style:h,custom_prompt:N,word_count:y});if(!n.success)throw new Error(n.data);if(((e,t)=>{const a=document.body.classList.contains("block-editor-page"),r=window.marked?window.marked.parse(t):t;if(a){wp.data.dispatch("core/editor").editPost({title:e});const t=wp.blocks.parse(r),a=wp.data.select("core/block-editor").getBlocks();if(a.length>0&&(1!==a.length||"core/paragraph"!==a[0].name||""!==a[0].attributes.content)){const e=a.map(e=>e.clientId);wp.data.dispatch("core/block-editor").removeBlocks(e)}wp.data.dispatch("core/block-editor").insertBlocks(t)}else jQuery("#title").val(e),jQuery("#title-prompt-text").hide(),jQuery("#title").trigger("blur"),window.tinymce&&window.tinymce.get("content")?window.tinymce.get("content").setContent(r):jQuery("#content").val(r)})(a,n.data.article_content),r("✅ Article content inserted!"),T){r("Saving post..."),await A(),r("Generating featured image...");const t=await u("generate_featured_image",{post_id:e,prompt:""});if(t.success)return r("✅ All done! Reloading to show new image..."),void setTimeout(()=>window.location.reload(),1500);alert("Article was generated and saved, but the image failed: "+t.data)}t(!1),setTimeout(()=>r(""),3e3)}catch(e){const a=e.message||"An unknown error occurred.";r(`Error: ${a}`),t(!1)}},disabled:e||B||!s&&!c},e||B?(0,n.createElement)(o.Spinner,null):"Generate Creative Article"),a&&(0,n.createElement)("p",{className:"atm-status-message"},a))},h=(e,t)=>jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:e,nonce:atm_studio_data.nonce,...t}}),g=function(){const[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(""),[s,i]=(0,l.useState)(""),[c,u]=(0,l.useState)("newsapi"),[p,g]=(0,l.useState)("NewsAPI.org"),[w,b]=(0,l.useState)(!1),[v,E]=(0,l.useState)(!1),{savePost:f}=(0,m.useDispatch)("core/editor"),S=(0,m.useSelect)(e=>e("core/editor").isSavingPost());return(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)(o.TextControl,{label:"News Topic",value:s,onChange:i,placeholder:"e.g., recent AI developments",disabled:e||S}),(0,n.createElement)(({label:e,text:t,options:a,onChange:r,disabled:s,helpText:i})=>{const c=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:c},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:d,text:t,controls:a.map(e=>({title:e.label,onClick:()=>{r(e)}})),disabled:s,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":c.current?.offsetWidth?c.current.offsetWidth+"px":"auto"}}}),i&&(0,n.createElement)("p",{className:"atm-dropdown-help"},i))},{label:"News Source",text:p,options:[{label:"NewsAPI.org",value:"newsapi"},{label:"GNews.io",value:"gnews"},{label:"The Guardian",value:"guardian"}],onChange:e=>{u(e.value),g(e.label)},disabled:e||S}),(0,n.createElement)(o.CheckboxControl,{label:"Force fresh search (bypasses cache)",checked:w,onChange:b,disabled:e||S}),(0,n.createElement)(o.CheckboxControl,{label:"Also generate a featured image",checked:v,onChange:E,disabled:e||S}),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:async()=>{if(!s)return void alert("Please enter a topic for the news article.");t(!0),r("Searching for latest news...");const e=document.getElementById("atm-studio-root").getAttribute("data-post-id");try{const a=await h("generate_news_article",{topic:s,news_source:c,force_fresh:w});if(!a.success)throw new Error(a.data);if(r("Writing article..."),((e,t)=>{const a=document.body.classList.contains("block-editor-page"),r=window.marked?window.marked.parse(t):t;if(a){wp.data.dispatch("core/editor").editPost({title:e});const t=wp.blocks.parse(r),a=wp.data.select("core/block-editor").getBlocks();if(a.length>0&&(1!==a.length||"core/paragraph"!==a[0].name||""!==a[0].attributes.content)){const e=a.map(e=>e.clientId);wp.data.dispatch("core/block-editor").removeBlocks(e)}wp.data.dispatch("core/block-editor").insertBlocks(t)}else jQuery("#title").val(e),jQuery("#title-prompt-text").hide(),jQuery("#title").trigger("blur"),window.tinymce&&window.tinymce.get("content")?window.tinymce.get("content").setContent(r):jQuery("#content").val(r)})(a.data.article_title,a.data.article_content),r("✅ News article inserted!"),v){r("Saving post..."),await f(),r("Generating featured image...");const t=await h("generate_featured_image",{post_id:e,prompt:""});if(t.success)return r("✅ All done! Reloading to show image..."),void setTimeout(()=>window.location.reload(),1500);alert("Article was generated and saved, but the image failed: "+t.data)}t(!1),setTimeout(()=>r(""),3e3)}catch(e){r(`Error: ${e.message}`),t(!1)}},disabled:e||S||!s},e||S?(0,n.createElement)(o.Spinner,null):"Generate News Article"),a&&(0,n.createElement)("p",{className:"atm-status-message"},a))},w=(e,t)=>jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:e,nonce:atm_studio_data.nonce,...t}}),b=function(){const[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(""),[s,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!0),[p,h]=(0,l.useState)([]),g=async(e="",a=!1)=>{t(!0),r(e?"Searching feeds...":"Fetching latest..."),h([]);const n=document.getElementById("atm-studio-root").getAttribute("data-post-id");try{const t=await w("fetch_rss_articles",{post_id:n,keyword:e,use_scraping:a});if(!t.success)throw new Error(t.data);h(t.data),r(t.data.length>0?`Found ${t.data.length} articles.`:"No articles found.")}catch(e){r(`Error: ${e.message}`)}finally{t(!1)}};return(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)(o.TextControl,{label:"Search by Keyword (Optional)",value:s,onChange:i,placeholder:"e.g., Trump, AI, Healthcare",disabled:e}),(0,n.createElement)(o.CheckboxControl,{label:"Deep Content Search",help:"Scrapes full article content for more accurate keyword matching (slower but more precise).",checked:c,onChange:d,disabled:e}),(0,n.createElement)(o.CheckboxControl,{label:"Use Full Article Content for Generation",help:"Scrapes the complete article for better AI rewriting (recommended).",checked:m,onChange:u,disabled:e}),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.Button,{isSecondary:!0,onClick:()=>g(s,c),disabled:e||!s},e?(0,n.createElement)(o.Spinner,null):"Search Feeds"),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>g(),disabled:e},e?(0,n.createElement)(o.Spinner,null):"Fetch Latest Articles")),a&&(0,n.createElement)("p",{className:"atm-status-message"},a),p.length>0&&(0,n.createElement)("div",{className:"atm-rss-results-list"},p.map((a,l)=>(0,n.createElement)("div",{key:a.guid,className:"atm-rss-item"},(0,n.createElement)("strong",{className:"atm-rss-item-title"},a.title),(0,n.createElement)("small",{className:"atm-rss-item-meta"},a.source," | ",a.date),(0,n.createElement)("p",{className:"atm-rss-item-desc"},a.description.substring(0,120),"..."),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>(async(e,a)=>{r(`Generating from "${e.title}"...`),t(!0);const n=[...p];n[a].isGenerating=!0,h(n);const l=document.getElementById("atm-studio-root").getAttribute("data-post-id");try{const t=await w("generate_article_from_rss",{post_id:l,article_url:e.link,article_guid:e.guid,rss_content:e.content,use_full_content:m});if(!t.success)throw new Error(t.data);((e,t)=>{const a=document.body.classList.contains("block-editor-page"),r=window.marked?window.marked.parse(t):t;if(a){wp.data.dispatch("core/editor").editPost({title:e});const t=wp.blocks.parse(r),a=wp.data.select("core/block-editor").getBlocks();if(a.length>0&&(1!==a.length||"core/paragraph"!==a[0].name||""!==a[0].attributes.content)){const e=a.map(e=>e.clientId);wp.data.dispatch("core/block-editor").removeBlocks(e)}wp.data.dispatch("core/block-editor").insertBlocks(t)}else jQuery("#title").val(e),jQuery("#title-prompt-text").hide(),jQuery("#title").trigger("blur"),window.tinymce&&window.tinymce.get("content")?window.tinymce.get("content").setContent(r):jQuery("#content").val(r)})(t.data.article_title,t.data.article_content),r(`✅ Article generated from "${e.title}"!`),h(p.filter((e,t)=>t!==a))}catch(e){r(`Error: ${e.message}`)}finally{t(!1);const e=[...p];e[a].isGenerating=!1,h(e)}})(a,l),disabled:e||a.isGenerating},a.isGenerating?(0,n.createElement)(o.Spinner,null):"Generate Article")))))},v=function({setActiveView:e}){const[t,a]=(0,l.useState)("creative"),[r,s]=(0,l.useState)("Creative Article");return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-view-header"},(0,n.createElement)("button",{className:"atm-back-btn",onClick:()=>e("hub")},(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h3",null,"Generate Article")),(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)(({label:e,text:t,options:a,onChange:r,disabled:s,helpText:i})=>{const c=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:c},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:d,text:t,controls:a.map(e=>({title:e.label,onClick:()=>{r(e)}})),disabled:s,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":c.current?.offsetWidth?c.current.offsetWidth+"px":"auto"}}}),i&&(0,n.createElement)("p",{className:"atm-dropdown-help"},i))},{label:"Article Type",text:r,options:[{label:"Creative Article",value:"creative"},{label:"Latest News Article",value:"news"},{label:"Article from RSS Feed",value:"rss_feed"}],onChange:e=>{a(e.value),s(e.label)}}),(0,n.createElement)("hr",{className:"atm-form-divider"}),(()=>{switch(t){case"news":return(0,n.createElement)(g,null);case"rss_feed":return(0,n.createElement)(b,null);default:return(0,n.createElement)(p,null)}})()))},E=function({setActiveView:e}){const[t,a]=(0,l.useState)(!1),[r,s]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[u,p]=(0,l.useState)(""),[h,g]=(0,l.useState)("Use Default"),[w,b]=(0,l.useState)(""),[v,E]=(0,l.useState)("Use Default"),[f,S]=(0,l.useState)(""),[y,_]=(0,l.useState)(""),{editPost:k}=((0,l.useRef)(null),(0,l.useRef)(null),(0,l.useRef)(null),(0,m.useDispatch)("core/editor")),{image_provider:C}=atm_studio_data,N=f||C,x=({label:e,text:t,options:a,onChange:r,disabled:s,helpText:i})=>{const c=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:c},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:d,text:t,controls:a.map(e=>({title:e.label,onClick:()=>{r(e)}})),disabled:s,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":c.current?.offsetWidth?c.current.offsetWidth+"px":"auto"}}}),i&&(0,n.createElement)("p",{className:"atm-dropdown-help"},i))},T=[{label:`Use Default (${C})`,value:""},{label:"OpenAI (DALL-E 3)",value:"openai"},{label:"Google (Imagen 4)",value:"google"}];return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-view-header"},(0,n.createElement)("button",{className:"atm-back-btn",onClick:()=>e("hub"),disabled:t},(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h3",null,"Generate Featured Image")),(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)(x,{label:"Image Provider",text:y||`Use Default (${C})`,options:T,onChange:e=>{S(e.value),_(e.label)},disabled:t}),(0,n.createElement)(o.TextareaControl,{label:"Image Prompt",help:"A descriptive prompt is required for image generation.",value:i,onChange:c,placeholder:"A cinematic, photorealistic image of...",rows:"5",disabled:t}),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(x,{label:"Image Size (Override)",text:h,options:[{label:"Use Default",value:""},{label:"16:9 Landscape",value:"1792x1024"},{label:"1:1 Square",value:"1024x1024"},{label:"9:16 Portrait",value:"1024x1792"}],onChange:e=>{p(e.value),g(e.label)},disabled:t}),(0,n.createElement)(x,{label:"Quality (Override)",text:v,options:[{label:"Use Default",value:""},{label:"Standard",value:"standard"},{label:"HD",value:"hd"}],onChange:e=>{b(e.value),E(e.label)},disabled:t,helpText:"openai"!==N?"Note: Quality setting is only for OpenAI/DALL-E 3.":""})),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:async()=>{if(!i.trim())return void alert("Please enter a prompt for the image.");a(!0),s("Enhancing prompt & generating image...");const e=document.getElementById("atm-studio-root").getAttribute("data-post-id");try{const a=await(t={post_id:e,prompt:i,size:u,quality:w,provider:N},jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:"generate_featured_image",nonce:atm_studio_data.nonce,...t}}));if(!a.success)throw new Error(a.data);{s("âœ… Image generated and set!");const{attachment_id:e,html:t}=a.data;document.body.classList.contains("block-editor-page")?k({featured_media:e}):jQuery("#postimagediv .inside").html(t)}}catch(e){const t=e.message||"An unknown error occurred.";s(`Error: ${t}`)}finally{a(!1),setTimeout(()=>s(""),5e3)}var t},disabled:t},t?(0,n.createElement)(o.Spinner,null):"Generate & Set Featured Image"),r&&(0,n.createElement)("p",{className:"atm-status-message"},r)))},f=(e,t)=>jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:e,nonce:atm_studio_data.nonce,...t}}),S=({label:e,text:t,options:a,onChange:r,disabled:s,helpText:i})=>{const c=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:c},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:d,text:t,controls:a.map(e=>({title:e.label,onClick:()=>{r(e)}})),disabled:s,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":c.current?.offsetWidth?c.current.offsetWidth+"px":"auto"}}}),i&&(0,n.createElement)("p",{className:"atm-dropdown-help"},i))};function y({podcastUrl:e,initialScript:t,onRegenerate:a,postId:r}){const[s,i]=(0,l.useState)(!1);return(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("h4",null,"Your Podcast is Ready"),(0,n.createElement)("audio",{controls:!0,src:e,style:{width:"100%",marginBottom:"1rem"}},"Your browser does not support the audio element."),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(o.Button,{isSecondary:!0,onClick:()=>{const e=wp.media({title:"Select Podcast Cover Image",button:{text:"Use This Image"},multiple:!1,library:{type:"image"}});e.on("select",()=>{const t=e.state().get("selection").first().toJSON();f("upload_podcast_image",{post_id:r,image_url:t.url}).done(()=>window.location.reload())}),e.open()}},"Change Cover Image"),(0,n.createElement)(o.Button,{isDestructive:!0,onClick:()=>a(t),disabled:s},s?(0,n.createElement)(o.Spinner,null):"Regenerate Audio")))}function _({handleGenerateScript:e,handleGenerateAudio:t,statusMessage:a,isLoading:r}){const[s,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[p,h]=(0,l.useState)("English"),[g,w]=(0,l.useState)("English"),[b,v]=(0,l.useState)(atm_studio_data.audio_provider||"openai"),[E,f]=(0,l.useState)("OpenAI TTS"),y=Object.entries(atm_studio_data.tts_voices).map(([e,t])=>({label:t,value:e})),_=Object.entries(atm_studio_data.elevenlabs_voices).map(([e,t])=>({label:t,value:e})),k="elevenlabs"===b?_:y,C=[{label:"OpenAI TTS",value:"openai"},{label:"ElevenLabs",value:"elevenlabs"}];return(0,l.useEffect)(()=>{k.length>0&&!c&&(d(k[0].value),u(k[0].label))},[b,k.length]),(0,l.useEffect)(()=>{const e=C.find(e=>e.value===b);e&&f(e.label)},[b]),(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)(S,{label:"Script Language",text:g,options:[{label:"English",value:"English"},{label:"Spanish",value:"Spanish"},{label:"French",value:"French"},{label:"German",value:"German"}],onChange:e=>{h(e.value),w(e.label)},disabled:r}),(0,n.createElement)(o.Button,{isSecondary:!0,onClick:()=>e(p,i),disabled:r},r&&a.includes("script")?(0,n.createElement)(o.Spinner,null):"1. Generate Script from Post Content"),(0,n.createElement)(o.TextareaControl,{label:"Podcast Script",help:"The generated script will appear here. You can edit it before generating the audio.",value:s,onChange:i,rows:"15",disabled:r}),(0,n.createElement)("div",{className:"atm-grid-2"},(0,n.createElement)(S,{label:"Audio Provider",text:E,options:C,onChange:e=>{v(e.value),f(e.label),d(""),u("")},disabled:r||0===_.length,helpText:0===_.length?"Enter ElevenLabs API key in settings to enable.":""}),(0,n.createElement)(S,{label:"AI Voice",text:m||(k[0]?k[0].label:"No voices available"),options:k,onChange:e=>{d(e.value),u(e.label)},disabled:r||!k.length,helpText:k.length?"":"No voices available for this provider."})),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:()=>t(s,c,b),disabled:r||!s.trim()||!c},r&&a.includes("audio")?(0,n.createElement)(o.Spinner,null):"2. Generate MP3 Audio"))}const k=function({setActiveView:e}){const[t,a]=(0,l.useState)(!1),[r,o]=(0,l.useState)(""),s=(0,m.useSelect)(e=>e("core/editor").getCurrentPostId(),[]),{existing_podcast_url:i,existing_podcast_script:c}=atm_studio_data,d=async(e,t,r)=>{if(e.trim()){a(!0),o("Generating MP3 audio... this may take a minute.");try{const a=await f("generate_podcast",{post_id:s,script:e,voice:t,provider:r});if(!a.success)throw new Error(a.data);o("✅ Success! The page will now reload to show the audio player."),setTimeout(()=>window.location.reload(),2e3)}catch(e){o(`Error generating audio: ${e.message}`),a(!1)}}else alert("Script cannot be empty.")};return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-view-header"},(0,n.createElement)("button",{className:"atm-back-btn",onClick:()=>e("hub"),disabled:t},(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h3",null,"Generate Podcast")),i?(0,n.createElement)(y,{podcastUrl:i,initialScript:c,onRegenerate:d,postId:s}):(0,n.createElement)(_,{handleGenerateScript:async(e,t)=>{const r=wp.data.select("core/editor").getEditedPostContent();if(r.trim()){a(!0),o("Generating podcast script...");try{const a=await f("generate_podcast_script",{content:r,post_id:s,language:e});if(!a.success)throw new Error(a.data);t(a.data.script),o("✅ Script generated successfully. You can now edit it below.")}catch(e){o(`Error generating script: ${e.message}`)}finally{a(!1)}}else alert("Please write some content in the editor before generating a script.")},handleGenerateAudio:d,statusMessage:r,isLoading:t}),r&&(0,n.createElement)("p",{className:"atm-status-message"},r))},C=function({setActiveView:e}){const[t,a]=(0,l.useState)(!1),[r,s]=(0,l.useState)(!1),[i,c]=(0,l.useState)("Click the button to start recording."),d=(0,l.useRef)(null),u=(0,l.useRef)([]),{insertBlocks:p}=(0,m.useDispatch)("core/block-editor"),h=r;return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-view-header"},(0,n.createElement)("button",{className:"atm-back-btn",onClick:()=>e("hub"),disabled:h||t},(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h3",null,"Speech to Text")),(0,n.createElement)("div",{className:"atm-speech-container"},(0,n.createElement)("div",{className:"atm-recording-section"},(0,n.createElement)("div",{className:"atm-record-button-wrapper "+(t?"is-recording":"")},(0,n.createElement)("div",{className:"atm-pulse-ring atm-pulse-ring-1"}),(0,n.createElement)("div",{className:"atm-pulse-ring atm-pulse-ring-2"}),(0,n.createElement)("div",{className:"atm-pulse-ring atm-pulse-ring-3"}),(0,n.createElement)("button",{className:`atm-record-button ${t?"is-recording":""} ${r?"is-transcribing":""}`,onClick:t?()=>{d.current&&"recording"===d.current.state&&(d.current.stop(),d.current.stream.getTracks().forEach(e=>e.stop()))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=new MediaRecorder(e),u.current=[],d.current.ondataavailable=e=>{e.data.size>0&&u.current.push(e.data)},d.current.onstop=()=>{a(!1),c("Recording stopped. Preparing for transcription..."),(async()=>{if(0===u.current.length)return void c("No audio recorded. Click to start again.");s(!0),c("Transcribing audio... Please wait.");const e=new Blob(u.current,{type:"audio/webm"}),t=new FormData;t.append("action","transcribe_audio"),t.append("nonce",atm_studio_data.nonce),t.append("audio_file",e,"recording.webm");try{const e=await fetch(atm_studio_data.ajax_url,{method:"POST",body:t}),a=await e.json();if(!a.success)throw new Error(a.data||"Transcription failed on the server.");{const e=a.data.transcript;if(e.trim()){const t=wp.blocks.createBlock("core/paragraph",{content:e.trim()});p(t),c("✅ Transcription complete and inserted!")}else c("Transcription returned empty. Please try again.")}}catch(e){console.error("Transcription error:",e),c(`Error: ${e.message}`)}finally{s(!1),u.current=[],setTimeout(()=>c("Click the button to start a new recording."),5e3)}})()},d.current.start(),a(!0),c("Recording... Click to stop.")}catch(e){c("Error: Could not access microphone. Please grant permission."),console.error("Microphone access error:",e)}},disabled:r},r?(0,n.createElement)(o.Spinner,null):t?(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},(0,n.createElement)("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})):(0,n.createElement)("img",{src:`${atm_studio_data.plugin_url}/includes/images/mic.svg`,alt:"Microphone",className:"atm-mic-icon"}))),(0,n.createElement)("p",{className:"atm-recording-status"},i)),(0,n.createElement)("div",{className:"atm-instructions"},(0,n.createElement)("p",null,"Click the microphone to start recording your voice. The audio will be automatically transcribed and inserted into your post content."))))},N=window.wp.blocks,x=function({label:e,text:t,options:a,onChange:r,disabled:s,helpText:i}){const c=(0,l.useRef)(null);return(0,n.createElement)("div",{className:"atm-dropdown-field",ref:c},(0,n.createElement)("label",{className:"atm-dropdown-label"},e),(0,n.createElement)(o.DropdownMenu,{className:"atm-custom-dropdown",icon:d,text:t,controls:a.map(e=>({title:e.label,onClick:()=>r(e)})),disabled:s,popoverProps:{className:"atm-popover",style:{"--atm-dropdown-width":c.current?.offsetWidth?`${c.current.offsetWidth}px`:"auto"}}}),i&&(0,n.createElement)("p",{className:"atm-dropdown-help"},i))};function T({onTranscriptionComplete:e,onTranscriptionError:t}){const[a,r]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),s=(0,l.useRef)(null),i=(0,l.useRef)([]);return{isRecording:a,isTranscribing:n,startRecording:async()=>{try{const a=await navigator.mediaDevices.getUserMedia({audio:!0});s.current=new MediaRecorder(a),i.current=[],s.current.ondataavailable=e=>{e.data.size>0&&i.current.push(e.data)},s.current.onstop=()=>{r(!1),(async()=>{if(0===i.current.length)return void t?.("No audio was recorded.");o(!0);const a=new Blob(i.current,{type:"audio/webm"}),r=new FormData;r.append("audio_file",a,"recording.webm");try{const t=await((e,t)=>(t.append("action","transcribe_audio"),t.append("nonce",atm_studio_data.nonce),fetch(atm_studio_data.ajax_url,{method:"POST",body:t}).then(e=>e.json())))(0,r);if(!t.success)throw new Error(t.data||"Transcription failed on the server.");e?.(t.data.transcript)}catch(e){t?.(e.message)}finally{o(!1),i.current=[]}})()},s.current.start(),r(!0)}catch(e){t?.("Could not access microphone. Please grant permission.")}},stopRecording:()=>{s.current&&"recording"===s.current.state&&(s.current.stop(),s.current.stream.getTracks().forEach(e=>e.stop()))}}}const P=(e,t)=>jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:e,nonce:atm_studio_data.nonce,...t}}),A=function({setActiveView:e}){const[t,a]=(0,l.useState)(""),[r,s]=(0,l.useState)(""),[i,c]=(0,l.useState)("Spanish"),[d,u]=(0,l.useState)("Spanish"),[p,h]=(0,l.useState)(!1),[g,w]=(0,l.useState)(""),[b,v]=(0,l.useState)(""),[E,f]=(0,l.useState)("Spanish"),[S,y]=(0,l.useState)("Spanish"),[_,k]=(0,l.useState)(!1),{insertBlocks:C}=(0,m.useDispatch)("core/block-editor"),{savePost:A}=(0,m.useDispatch)("core/editor"),{isRecording:B,isTranscribing:j,startRecording:D,stopRecording:L}=T({onTranscriptionComplete:e=>{a(t=>t+(t?" ":"")+e),v("✅ Transcription complete."),setTimeout(()=>v(""),3e3)},onTranscriptionError:e=>{v(`Error: ${e}`)}}),I=[{label:"Spanish",value:"Spanish"},{label:"French",value:"French"},{label:"German",value:"German"},{label:"Chinese (Simplified)",value:"Chinese (Simplified)"},{label:"Japanese",value:"Japanese"},{label:"Russian",value:"Russian"},{label:"Portuguese",value:"Portuguese"},{label:"Italian",value:"Italian"},{label:"Arabic",value:"Arabic"},{label:"Hindi",value:"Hindi"},{label:"Korean",value:"Korean"},{label:"Dutch",value:"Dutch"},{label:"Turkish",value:"Turkish"},{label:"Polish",value:"Polish"},{label:"Swedish",value:"Swedish"}];(0,l.useEffect)(()=>{B?v("Recording..."):j&&v("Transcribing...")},[B,j]);const R=p||B||j||_;return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-view-header"},(0,n.createElement)("button",{className:"atm-back-btn",onClick:()=>e("hub"),disabled:R},(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h3",null,"AI Translator")),(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)("div",{className:"atm-translator-full-editor"},(0,n.createElement)(o.Button,{isPrimary:!0,onClick:async()=>{k(!0),w("Reading editor content...");const{title:e,content:t}=(()=>{const e=wp.data.select("core/editor");return{title:e.getEditedPostAttribute("title"),content:e.getEditedPostContent()}})();if(!t.trim())return alert("Editor content is empty. Please write something to translate."),void k(!1);w(`Translating entire post to ${E}...`);try{const a=await P("translate_editor_content",{title:e,content:t,target_language:E});if(!a.success)throw new Error(a.data);{const{translated_title:e,translated_content:t}=a.data;((e,t)=>{const a=!!wp.data.select("core/block-editor"),r=window.marked?window.marked.parse(t):t;if(a){wp.data.dispatch("core/editor").editPost({title:e});const t=wp.blocks.parse(r);wp.data.dispatch("core/block-editor").resetBlocks(t)}else jQuery("#title").val(e).trigger("blur"),window.tinymce?.get("content")?window.tinymce.get("content").setContent(r):jQuery("#content").val(r)})(e,t),w("✅ Post translated! Saving..."),await A(),w("✅ Post translated and saved!")}}catch(e){w(`Error: ${e.message}`)}finally{k(!1)}},disabled:R},"Translate Editor"),(0,n.createElement)("span",null,"to"),(0,n.createElement)(x,{label:"",text:S,options:I,onChange:e=>{f(e.value),y(e.label)},disabled:R})),(0,n.createElement)("hr",{className:"atm-form-divider"}),(0,n.createElement)("label",{className:"components-base-control__label"},"Text Snippet to Translate"),(0,n.createElement)("div",{className:"atm-translator-main-area"},(0,n.createElement)(o.TextareaControl,{value:t,onChange:a,placeholder:"Type your text here...",rows:8,disabled:R,className:"atm-translator-text-input"}),(0,n.createElement)("div",{className:"atm-translator-recorder"},(0,n.createElement)("h4",null,"Or Record to Translate"),(0,n.createElement)("div",{className:"atm-record-button-wrapper is-small "+(B?"is-recording":"")},(0,n.createElement)("div",{className:"atm-pulse-ring atm-pulse-ring-1"}),(0,n.createElement)("div",{className:"atm-pulse-ring atm-pulse-ring-2"}),(0,n.createElement)("button",{className:`atm-record-button ${B?"is-recording":""} ${j?"is-transcribing":""}`,onClick:B?L:D,disabled:R,"aria-label":B?"Stop Recording":"Start Recording"},j?(0,n.createElement)(o.Spinner,null):B?(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},(0,n.createElement)("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})):(0,n.createElement)("img",{src:`${atm_studio_data.plugin_url}/includes/images/mic.svg`,alt:"Microphone",className:"atm-mic-icon"}))),(B||j||b)&&(0,n.createElement)("p",{className:"atm-recording-status"},b))),(0,n.createElement)(x,{label:"Translate Snippet To",text:d,options:I,onChange:e=>{c(e.value),u(e.label)},disabled:R}),(0,n.createElement)(o.Button,{isSecondary:!0,onClick:async()=>{if(!t.trim())return alert("Please enter text to translate.");h(!0),w(`Translating to ${i}...`),s("");try{const e=await P("translate_text",{source_text:t,target_language:i});if(!e.success)throw new Error(e.data);s(e.data.translated_text),w("✅ Translation successful!")}catch(e){w(`Error: ${e.message}`)}finally{h(!1)}},disabled:R||!t.trim()},p?(0,n.createElement)(o.Spinner,null):"Translate Snippet"),(0,n.createElement)(o.TextareaControl,{label:"Translated Snippet",value:r,readOnly:!0,rows:8}),(0,n.createElement)(o.Button,{isSecondary:!0,onClick:()=>{r.trim()&&(C((0,N.createBlock)("core/paragraph",{content:r.trim()})),w("Text inserted into editor!"))},disabled:!r.trim()||R},"Insert Snippet into Editor"),g&&(0,n.createElement)("p",{className:"atm-status-message"},g)))},B=(0,l.forwardRef)(({icon:e,size:t=24,...a},r)=>(0,l.cloneElement)(e,{width:t,height:t,...a,ref:r})),j=(0,c.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(i.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),D=(0,c.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(i.Path,{d:"M12 4 4 19h16L12 4zm0 3.2 5.5 10.3H12V7.2z"})}),L=function({onSearch:e,onFilterClick:t,disabled:a}){const[r,s]=(0,l.useState)("");return(0,n.createElement)("div",{className:"atm-autocomplete-container"},(0,n.createElement)("form",{className:"atm-autocomplete-form",onSubmit:t=>{t.preventDefault(),e(r)}},(0,n.createElement)(o.TextControl,{value:r,onChange:e=>s(e),placeholder:"Search for videos on YouTube...",disabled:a}),(0,n.createElement)(o.Button,{type:"submit",isPrimary:!0,disabled:a||!r,className:"atm-search-button"},(0,n.createElement)(B,{icon:j})),(0,n.createElement)(o.Button,{isSecondary:!0,onClick:t,disabled:a,className:"atm-filter-button"},(0,n.createElement)(B,{icon:D}))))},I=(0,c.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(i.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})}),R=(0,c.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,c.jsx)(i.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),G=function({video:e,onEmbed:t}){const[a,s]=(0,l.useState)(!1);return(0,n.createElement)("div",{className:"atm-video-result-item"},(0,n.createElement)("div",{className:"atm-video-thumbnail"},(0,n.createElement)("img",{src:e.thumbnail,alt:e.title})),(0,n.createElement)("div",{className:"atm-video-details"},(0,n.createElement)("h4",{className:"atm-video-title"},e.title),(0,n.createElement)("p",{className:"atm-video-description"},e.description),(0,n.createElement)("div",{className:"atm-video-meta"},(0,n.createElement)("span",null,e.channel)," • ",(0,n.createElement)("span",null,e.date)),(0,n.createElement)("div",{className:"atm-video-actions"},(0,n.createElement)(o.Button,{icon:I,href:e.url,target:"_blank"},"Watch"),(0,n.createElement)(o.Button,{icon:R,onClick:()=>{navigator.clipboard.writeText(e.url),s(!0),setTimeout(()=>s(!1),2e3)}},a?"Copied!":"Copy Link"),(0,n.createElement)(o.Button,{icon:r.embed,onClick:()=>t(e.url),className:"is-embed"},"Embed"))))},O=function({isOpen:e,onClose:t,filters:a,onFilterChange:r,onApply:l}){return e?(0,n.createElement)(o.Modal,{title:"Search Filters",onRequestClose:t,className:"atm-filter-modal"},(0,n.createElement)("div",{className:"atm-form-container"},(0,n.createElement)(o.SelectControl,{label:"Sort By",value:a.order,options:[{label:"Relevance",value:"relevance"},{label:"Upload Date",value:"date"},{label:"View Count",value:"viewCount"},{label:"Rating",value:"rating"}],onChange:e=>r("order",e)}),(0,n.createElement)(o.SelectControl,{label:"Duration",value:a.videoDuration,options:[{label:"Any",value:"any"},{label:"Short (< 4 minutes)",value:"short"},{label:"Medium (4-20 minutes)",value:"medium"},{label:"Long (> 20 minutes)",value:"long"}],onChange:e=>r("videoDuration",e)}),(0,n.createElement)(o.SelectControl,{label:"Upload Date",value:a.publishedAfter,options:[{label:"Anytime",value:""},{label:"Last Hour",value:new Date(Date.now()-36e5).toISOString()},{label:"Today",value:new Date(Date.now()-864e5).toISOString()},{label:"This Week",value:new Date(Date.now()-6048e5).toISOString()},{label:"This Month",value:new Date(Date.now()-2592e6).toISOString()},{label:"This Year",value:new Date(Date.now()-31536e6).toISOString()}],onChange:e=>r("publishedAfter",e)}),(0,n.createElement)(o.Button,{isPrimary:!0,onClick:l},"Apply Filters"))):null},M=function({setActiveView:e}){const[t,a]=(0,l.useState)([]),[r,s]=(0,l.useState)(!1),[i,c]=(0,l.useState)("Enter a search term to find YouTube videos."),[d,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[g,w]=(0,l.useState)({order:"relevance",videoDuration:"any",publishedAfter:""}),{insertBlocks:b}=(0,m.useDispatch)("core/block-editor"),v=async e=>{if(e){u(e),s(!0),a([]),c(`Searching for "${e}"...`);try{const r=await(t={query:e,filters:g},jQuery.ajax({url:atm_studio_data.ajax_url,type:"POST",data:{action:"search_youtube",nonce:atm_studio_data.nonce,...t}}));if(!r.success)throw new Error(r.data);a(r.data),c(r.data.length>0?`Showing ${r.data.length} results for "${e}"`:"No results found.")}catch(e){c(`Error: ${e.message}`)}finally{s(!1)}var t}},E=e=>{if(wp.data.select("core/block-editor")){const t=(0,N.createBlock)("core/embed",{url:e,providerNameSlug:"youtube"});b(t)}else{const t=`\n${e}\n`;window.send_to_editor(t)}c("✅ Video embedded successfully!"),setTimeout(()=>c(""),3e3)};return(0,n.createElement)("div",{className:"atm-generator-view"},(0,n.createElement)("div",{className:"atm-view-header"},(0,n.createElement)("button",{className:"atm-back-btn",onClick:()=>e("hub"),disabled:r},(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h3",null,"YouTube Video Search")),(0,n.createElement)("div",{className:"atm-video-search-container"},(0,n.createElement)(L,{onSearch:v,onFilterClick:()=>h(!0),disabled:r}),(0,n.createElement)("p",{className:"components-base-control__help",style:{marginTop:"-1rem"}},"Search for videos on YouTube."),r&&(0,n.createElement)("div",{className:"atm-video-spinner-container"},(0,n.createElement)(o.Spinner,null)),!r&&0===t.length&&(0,n.createElement)("p",{className:"atm-status-message"},i),t.length>0&&(0,n.createElement)("div",{className:"atm-video-results-list"},t.map(e=>(0,n.createElement)(G,{key:e.id,video:e,onEmbed:E})))),(0,n.createElement)(O,{isOpen:p,onClose:()=>h(!1),filters:g,onFilterChange:(e,t)=>{w(a=>({...a,[e]:t}))},onApply:()=>{h(!1),d&&v(d)}}))},$=function(){const[e,t]=(0,l.useState)(sessionStorage.getItem("atm-active-view")||"hub");return(0,l.useEffect)(()=>{sessionStorage.setItem("atm-active-view",e)},[e]),(0,n.createElement)("div",{className:"atm-studio-container"},(()=>{switch(e){case"articles":return(0,n.createElement)(v,{setActiveView:t});case"images":return(0,n.createElement)(E,{setActiveView:t});case"podcast":return(0,n.createElement)(k,{setActiveView:t});case"speech_to_text":return(0,n.createElement)(C,{setActiveView:t});case"translate":return(0,n.createElement)(A,{setActiveView:t});case"video":return(0,n.createElement)(M,{setActiveView:t});default:return(0,n.createElement)(s,{setActiveView:t})}})())};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("atm-studio-root");e&&(0,l.render)((0,n.createElement)($,null),e)})})();